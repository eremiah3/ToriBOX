<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ToriBOX - Africa's first mobile-first short drama app. Binge short dramas anytime, anywhere.">
  <title>ToriBOX - Short Drama App</title>
  <link rel="icon" type="image/png" href="logo.png">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 5px;
      text-align: center;
    }
    #payment-name, #payment-email {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
    }
    .modal-buttons {
      margin-top: 10px;
    }
    .modal-buttons button {
      padding: 5px 15px;
      margin: 0 5px;
    }
  </style>
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Fe Us zs Oe js Ns capture Ze calculateEventProperties Hs register register_once register_for_session unregister unregister_for_session Js getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Gs qs createPersonProfile Vs As Ks opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Bs debug L Ws getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_NKhAsYlNUzB5H3cnpcSBwhqzNYkp9K26TidLNaJHo8U', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-05-24',
        person_profiles: 'identified_only',
    })
  </script>
</head>
<body>
  <!-- HERO -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-text" id="wait">
        <h1>Big Stories. Small Episodes. Endless Drama.</h1>
        <h2>Africa's first mobile-first short drama app</h2>
        <p>Fast, captivating, local stories.</p>
        <form class="signup-form" id="waitlist-form">
          <input type="email" id="email" name="user_email" placeholder="Your email" required>
          <button type="submit" id="submitBtn">Join the Waitlist</button>
        </form>
        <p id="statusMsg" style="margin-top:10px; font-size:0.6rem;"></p>
      </div>
      <div class="hero-image">
        <img src="phone-1.png" alt="App preview">
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features">
    <div class="container">
      <div class="section-header">
        <h2>What is <img src="logo.png" alt="" class="logo"> ToriBOX?</h2>
        <p>Discover the key features that make ToriBOX unique.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="icon">üé¨</div>
          <h3>Hook-Driven Episodes</h3>
          <p>Stories that open with a heartbeat and end with a cliffhanger</p>
        </div>
        <div class="feature-card">
          <div class="icon">üì±</div>
          <h3>Made for Mobile</h3>
          <p>Cinematic storytelling crafted for screens in your hand</p>
        </div>
        <div class="feature-card">
          <div class="icon">üë•</div>
          <h3>Creator-Powered</h3>
          <p>We work with bold Nigerian storytellers shaping the next wave of digital drama </p>
        </div>
      </div>
    </div>
  </section>

  <!-- COIN PACKS -->
  <section class="coin-packs">
    <div class="container">
      <div class="section-header">
        <h2>Already 1,000+ drama lovers signed up.<br>100+ have reserved coins</h2>
        <p>Unlock premium content and support your favorite creators with ToriBOX Coins!</p>
      </div>

      <div class="pack-grid">
        <div class="pack-card">
          <h3>‚Ç¶1,000</h3>
          <h4>Day-One Pack</h4>
          <p class="coins">100 Coins</p>
          <p>Be part of the first wave of ToriBOX supporters</p>
          <button class="pay-btn" onclick="showPaymentPopup(1000, 'Day-One Pack', 100)">Buy Now</button>
        </div>
        <div class="pack-card">
          <h3>‚Ç¶2,500</h3>
          <h4>Super Fan Pack</h4>
          <p class="coins">300 Coins <span>(+20% bonus)</span></p>
          <p>Early supporter shoutout + exclusive sticker pack</p>
          <button class="pay-btn" onclick="showPaymentPopup(2500, 'Super Fan Pack', 300)">Buy Now</button>
        </div>
        <div class="pack-card">
          <h3>‚Ç¶3,000</h3>
          <h4>True Fan Pack</h4>
          <p class="coins">700 Coins <span>(+40% bonus)</span></p>
          <p>Exclusive sticker pack + early previews of new series</p>
          <button class="pay-btn" onclick="showPaymentPopup(3000, 'True Fan Pack', 700)">Buy Now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- NOLLYWOOD -->
  <section class="nollywood">
    <div class="container">
      <div class="nollywood-content">
        <div class="nollywood-text">
          <h2>ToriBOX.</h2>
          <p>Stories that move like TikTok but hit like cinema. ToriBOX is where <br> Nigerian storytellers craft full narratives
            in short, adrenaline-packed <br> episodes desgined for your phone
          </p>
        </div>
        <div class="nollywood-image">
          <img src="phone-2.png" alt="App preview">
        </div>
      </div>
    </div>
  </section>

  <!-- WAITLIST CTA -->
  <section class="stats">
    <div class="container">
      <div class="stats-content">
        <h2>Over 1,000+ users already <br> joined the waitlist</h2>
        <p>Get exclusive access to Africa's first <br> short drama app when we launch.</p>
        <button class="cta-button"><a href="#wait">Join Now</a></button>
      </div>
    </div>
  </section>
<section class="coming-soon">
  <div class="coming-soon-content">
    <div class="text-section">
      <h1>COMING SOON</h1>
      <p>Join the Waitlist</p>
      <div class="app-links">
      
          <img src="play.png" alt="Get it on Google Play">
       
      
          <img src="app.png" alt="Download on the App Store">
     
      </div>
    </div>
    <div class="phone-preview">
      <img src="phone-1.png" alt="ToriBOX App Preview"> <!-- Use your existing phone-1.png or replace with a custom mockup -->
    </div>
  </div>
</section>
  <!-- üåê Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-left">
        <h2 class="footer-logo">Tori<span>BOX</span></h2>
      </div>
      <div class="footer-center">
        <p>¬© 2025 ToriBOX. All rights reserved.</p>
      </div>
      <div class="footer-right">
        <a href="#" onclick="openPDFModal('privacy.pdf')">Privacy Policy</a>
        <a href="#" onclick="openPDFModal('Refund Policy.pdf')">Refund Policy</a>
        <a href="#" onclick="openPDFModal('Terms & Conditions.pdf')">Terms & Conditions</a>
        <a href="mailto:hello@tori-box.com">Contact Us</a>
      </div>
    </div>
  </footer>

  <!-- PDF Modal -->
  <div id="pdfModal" class="pdf-modal">
    <div class="pdf-modal-content">
      <span class="close" onclick="closePDFModal()">&times;</span>
      <iframe id="pdfFrame" src=""></iframe>
    </div>
  </div>

  <!-- Payment Modal -->
  <div id="payment-modal" class="modal">
    <div class="modal-content">
      <h3>Enter Your Details for Payment</h3>
      <input type="text" id="payment-name" placeholder="Your name" required>
      <input type="email" id="payment-email" placeholder="Your email" required>
      <div class="modal-buttons">
        <button onclick="proceedWithPayment()">Proceed</button>
        <button onclick="closePaymentPopup()">Cancel</button>
      </div>
      <p id="modal-status" style="margin-top:10px; font-size:0.6rem;"></p>
    </div>
  </div>

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <!-- ‚úÖ Paystack Script -->
  <script src="https://js.paystack.co/v1/inline.js"></script>

  <script>
    emailjs.init("mm0hGZXC5mxVDnLGc");
    const form = document.getElementById("waitlist-form");
    const statusMsg = document.getElementById("statusMsg");
    const submitBtn = document.getElementById("submitBtn");
    const SHEETDB_URL = "https://sheetdb.io/api/v1/ip8mw6as947hf";

    form.addEventListener("submit", async function(e) {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      if (!email) return;

      submitBtn.disabled = true;
      statusMsg.style.color = "black";
      statusMsg.innerText = "‚è≥ Checking waitlist...";

      try {
        const searchRes = await fetch(`${SHEETDB_URL}/search?user_email=${encodeURIComponent(email)}`);
        let existing = [];
        if (searchRes.status === 404) {
          existing = [];
        } else if (!searchRes.ok) {
          throw new Error("Could not check waitlist. Try again later.");
        } else {
          const data = await searchRes.json();
          existing = Array.isArray(data) ? data : (data.data || []);
        }

        if (existing.length > 0) throw new Error("‚ö†Ô∏è This email is already on the waitlist.");

        await emailjs.send("service_w60c5jf", "template_36f08lc", { 
          user_email: email,
          from_name: "ToriBOX Team",  
          reply_to: "hello@tori-box.com"
        });

        await emailjs.send("service_w60c5jf", "template_kaa01dh", { 
          user_email: email,
          from_name: "ToriBOX Team",  
          reply_to: "hello@tori-box.com"
        });

        const saveRes = await fetch(SHEETDB_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: { user_email: email } })
        });
        if (!saveRes.ok) throw new Error("Failed to save to SheetDB.");

        posthog.identify(email, { name: 'ToriBOX User', email: email });

        statusMsg.style.color = "green";
        statusMsg.innerText = "üéâ Thanks! You're on the waitlist. Check your inbox for confirmation.";
        form.reset();

      } catch (err) {
        console.error(err);
        statusMsg.style.color = "red";
        statusMsg.innerText = err.message || "‚ùå Something went wrong. Try again.";
      } finally {
        submitBtn.disabled = false;
      }
    });

    let currentAmount, currentPackName, currentCoins;
    function showPaymentPopup(amount, packName, coins) {
      currentAmount = amount;
      currentPackName = packName;
      currentCoins = coins;
      document.getElementById('payment-modal').style.display = 'flex';
      document.getElementById('payment-email').focus();
    }

    function closePaymentPopup() {
      document.getElementById('payment-modal').style.display = 'none';
      document.getElementById('payment-name').value = '';
      document.getElementById('payment-email').value = '';
      document.getElementById('modal-status').innerText = '';
    }

    function proceedWithPayment() {
      const nameInput = document.getElementById('payment-name');
      const emailInput = document.getElementById('payment-email');
      const name = nameInput.value.trim();
      const email = emailInput.value.trim();
      const modalStatus = document.getElementById('modal-status');

      if (!name || !email) {
        modalStatus.style.color = "red";
        modalStatus.innerText = "Please enter both name and email.";
        return;
      }

      posthog.identify(email, { name: name, email: email });
      modalStatus.style.color = "black";
      modalStatus.innerText = "Processing payment...";
      closePaymentPopup();

      const handler = PaystackPop.setup({
        key: 'pk_live_5b55a9d7b858c8aac55065c2f23765fc0160436e', // üü© replace with your Paystack public key
        email: email,
        amount: currentAmount * 100,
        currency: 'NGN',
        ref: 'tori-box-' + Math.floor((Math.random() * 1000000000) + 1),
        metadata: {
          custom_fields: [
            { display_name: "Customer Name", value: name },
            { display_name: "Coin Pack", value: currentPackName },
            { display_name: "Coins", value: currentCoins }
          ]
        },
        callback: function(response) {
          console.log('Paystack Response:', response);
          const paymentDetails = {
            name,
            email,
            amount: currentAmount,
            coins: currentCoins,
            transactionId: response.reference,
            packName: currentPackName,
            date: new Date().toISOString()
          };
          alert(`‚úÖ Payment Successful!\nName: ${name}\nEmail: ${email}\nAmount: ‚Ç¶${currentAmount}\nCoins: ${currentCoins}\nTransaction Ref: ${response.reference}`);
        },
        onClose: function() {
          alert('‚ùå Payment cancelled. Please try again.');
        }
      });

      handler.openIframe();
    }
  </script>

  <script>
    function openPDFModal(pdfURL) {
      const modal = document.getElementById("pdfModal");
      const iframe = document.getElementById("pdfFrame");
      iframe.src = "";
      modal.style.display = "flex";
      setTimeout(() => { iframe.src = pdfURL; }, 150);
      iframe.onload = () => { iframe.style.opacity = "1"; };
    }

    function closePDFModal() {
      const modal = document.getElementById("pdfModal");
      const iframe = document.getElementById("pdfFrame");
      iframe.src = "";
      modal.style.display = "none";
      iframe.onload = null;
    }
  </script>
</body>
</html>
